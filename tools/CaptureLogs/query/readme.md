# Analyzing EventSource logs

## Log analysis scripts
This folder contains [LINQPad](https://www.linqpad.net/) scripts that can be used in conjunction with [PerfView](https://github.com/Microsoft/perfview) XML exports to speed up SDK investigations.

| Script | Description |
| ------ | ----------- |
|etlxml_query_summary.linq | Displays a summary of devices, modules and exceptions. |
|etlxml_query_graph.linq | Displays logs associated with an object and it's object graph. |
|etlxml_query_objectType.linq | Displays all logs generated by a class. |

## PerfView capture details
PerfView limits the output to 10k events. To export all the events, change the limit then export to XML format (Ctrl+X).

## LinqPad details
For large logs, it's recommended that the AnyCpu version of LinqPad is used.

## Colorization for VSCode

To read colorized logs, analyze timings use [LogFileHighlighter](https://marketplace.visualstudio.com/items?itemName=emilast.LogFileHighlighter) 
Another recommended extension is 

 Suggested color configuration :

 ```json
   "logFileHighlighter.customPatterns": [
        {
            "pattern": ".*-Enter]",
            "foreground": "#42adf4"
        },
        {
            "pattern": ".*-Exit]",
            "foreground": "#cc99ff"
        },
        {
            "pattern": ".*-Associate]",
            "foreground": "magenta"
        },
        {
            "pattern": ".*-Info]",
            "foreground": "#11a046"
        },
        {
            "pattern": ".*-ErrorMessage]",
            "foreground": "red"
        },
        {
            "pattern": ".*-Critical]",
            "foreground": "#ea4112"
        },
        {
            "pattern": ".*-TestMessage]",
            "foreground": "gray"
        },
    ]
```